{".class":"MypyFile","_fullname":"vllm.model_executor.layers.sampler","future_import_flags":[],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","CompletionSequenceGroupOutput":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.CompletionSequenceGroupOutput","kind":"Gdef"},"Dict":{".class":"SymbolTableNode","cross_ref":"typing.Dict","kind":"Gdef"},"Iterator":{".class":"SymbolTableNode","cross_ref":"typing.Iterator","kind":"Gdef"},"List":{".class":"SymbolTableNode","cross_ref":"typing.List","kind":"Gdef"},"Logprob":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.Logprob","kind":"Gdef"},"MaybeDeferredSampleResultType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.MaybeDeferredSampleResultType","line":76,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"UnionType","items":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultType"},"vllm.model_executor.layers.sampler.SampleResultArgsType"],"uses_pep604_syntax":false}}},"MultinomialSamplesType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.MultinomialSamplesType","line":51,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"Instance","args":["vllm.sampling_params.SamplingType","torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.dict"}}},"Optional":{".class":"SymbolTableNode","cross_ref":"typing.Optional","kind":"Gdef"},"PromptLogprobs":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.PromptLogprobs","kind":"Gdef"},"SampleLogprobs":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.SampleLogprobs","kind":"Gdef"},"SampleMetadataType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.SampleMetadataType","line":49,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"Instance","args":["vllm.sampling_params.SamplingType",{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"SampleResultArgsType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType","name":"SampleResultArgsType","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":66,"name":"sample_metadata","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleMetadataType"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":67,"name":"multinomial_samples","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MultinomialSamplesType"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":68,"name":"sample_results_dict","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultsDictType"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":69,"name":"sampling_metadata","type":"vllm.model_executor.sampling_metadata.SamplingMetadata"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":70,"name":"greedy_samples","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}],"frozen":false},"dataclass_tag":{}},"module_name":"vllm.model_executor.layers.sampler","mro":["vllm.model_executor.layers.sampler.SampleResultArgsType","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"dataclasses.Field"}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0],"arg_names":["self","sample_metadata","multinomial_samples","sample_results_dict","sampling_metadata","greedy_samples"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0],"arg_names":["self","sample_metadata","multinomial_samples","sample_results_dict","sampling_metadata","greedy_samples"],"arg_types":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleMetadataType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MultinomialSamplesType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultsDictType"},"vllm.model_executor.sampling_metadata.SamplingMetadata",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of SampleResultArgsType","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__init__-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__init__","kind":"Mdef","plugin_generated":true},"__init__-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__init__","kind":"Mdef","plugin_generated":true},"__init__-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__init__","kind":"Mdef","plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"sample_metadata"},{".class":"LiteralType","fallback":"builtins.str","value":"multinomial_samples"},{".class":"LiteralType","fallback":"builtins.str","value":"sample_results_dict"},{".class":"LiteralType","fallback":"builtins.str","value":"sampling_metadata"},{".class":"LiteralType","fallback":"builtins.str","value":"greedy_samples"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__match_args__-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__match_args__","kind":"Mdef","plugin_generated":true},"__match_args__-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__match_args__","kind":"Mdef","plugin_generated":true},"__match_args__-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__match_args__","kind":"Mdef","plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5],"arg_names":["sample_metadata","multinomial_samples","sample_results_dict","sampling_metadata","greedy_samples"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5],"arg_names":["sample_metadata","multinomial_samples","sample_results_dict","sampling_metadata","greedy_samples"],"arg_types":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleMetadataType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MultinomialSamplesType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultsDictType"},"vllm.model_executor.sampling_metadata.SamplingMetadata",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of SampleResultArgsType","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5],"arg_names":["sample_metadata","multinomial_samples","sample_results_dict","sampling_metadata","greedy_samples"],"arg_types":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleMetadataType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MultinomialSamplesType"},{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultsDictType"},"vllm.model_executor.sampling_metadata.SamplingMetadata",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of SampleResultArgsType","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"__mypy-replace-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__mypy-replace","kind":"Mdef","plugin_generated":true},"__mypy-replace-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__mypy-replace","kind":"Mdef","plugin_generated":true},"__mypy-replace-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SampleResultArgsType.__mypy-replace","kind":"Mdef","plugin_generated":true},"greedy_samples":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.greedy_samples","name":"greedy_samples","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"multinomial_samples":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.multinomial_samples","name":"multinomial_samples","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MultinomialSamplesType"}}},"sample_metadata":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.sample_metadata","name":"sample_metadata","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleMetadataType"}}},"sample_results_dict":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.sample_results_dict","name":"sample_results_dict","type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultsDictType"}}},"sampling_metadata":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.sampling_metadata","name":"sampling_metadata","type":"vllm.model_executor.sampling_metadata.SamplingMetadata"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"vllm.model_executor.layers.sampler.SampleResultArgsType.Self","id":0,"name":"Self","namespace":"","upper_bound":"vllm.model_executor.layers.sampler.SampleResultArgsType","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"SampleResultType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.SampleResultType","line":45,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"Instance","args":[{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}],"extra_attrs":null,"type_ref":"builtins.list"}}},"SampleResultsDictType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.SampleResultsDictType","line":52,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"Instance","args":["builtins.int",{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"SampleReturnType":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeAlias","alias_tvars":[],"column":0,"fullname":"vllm.model_executor.layers.sampler.SampleReturnType","line":79,"no_args":false,"normalized":false,"python_3_12_type_alias":false,"target":{".class":"TupleType","implicit":false,"items":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MaybeDeferredSampleResultType"},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}}},"Sampler":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch.nn.modules.module.Module"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"vllm.model_executor.layers.sampler.Sampler","name":"Sampler","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.Sampler","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"vllm.model_executor.layers.sampler","mro":["vllm.model_executor.layers.sampler.Sampler","torch.nn.modules.module.Module","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.Sampler.__init__","name":"__init__","type":null}},"_do_min_p":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler._do_min_p","name":"_do_min_p","type":"builtins.bool"}},"_do_penalties":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler._do_penalties","name":"_do_penalties","type":"builtins.bool"}},"_do_top_p_top_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler._do_top_p_top_k","name":"_do_top_p_top_k","type":"builtins.bool"}},"_init_sampling_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","logits","sampling_metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.Sampler._init_sampling_tensors","name":"_init_sampling_tensors","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","logits","sampling_metadata"],"arg_types":["vllm.model_executor.layers.sampler.Sampler","torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_init_sampling_tensors of Sampler","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_sampling_tensors":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler._sampling_tensors","name":"_sampling_tensors","type":{".class":"UnionType","items":["vllm.model_executor.sampling_metadata.SamplingTensors",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"_should_modify_greedy_probs_inplace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_property","is_decorated"],"fullname":"vllm.model_executor.layers.sampler.Sampler._should_modify_greedy_probs_inplace","name":"_should_modify_greedy_probs_inplace","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["vllm.model_executor.layers.sampler.Sampler"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_should_modify_greedy_probs_inplace of Sampler","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler._should_modify_greedy_probs_inplace","name":"_should_modify_greedy_probs_inplace","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["vllm.model_executor.layers.sampler.Sampler"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_should_modify_greedy_probs_inplace of Sampler","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"forward":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","logits","sampling_metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.Sampler.forward","name":"forward","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","logits","sampling_metadata"],"arg_types":["vllm.model_executor.layers.sampler.Sampler","torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"forward of Sampler","ret_type":{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SamplerOutput",{".class":"NoneType"}],"uses_pep604_syntax":false},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"include_gpu_probs_tensor":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler.include_gpu_probs_tensor","name":"include_gpu_probs_tensor","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}},"should_modify_greedy_probs_inplace":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"vllm.model_executor.layers.sampler.Sampler.should_modify_greedy_probs_inplace","name":"should_modify_greedy_probs_inplace","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"vllm.model_executor.layers.sampler.Sampler.Self","id":0,"name":"Self","namespace":"","upper_bound":"vllm.model_executor.layers.sampler.Sampler","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"SamplerOutput":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["msgspec.Struct"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"vllm.model_executor.layers.sampler.SamplerOutput","name":"SamplerOutput","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":93,"name":"outputs","type":{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"builtins.list"}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":96,"name":"sampled_token_probs","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":99,"name":"logprobs","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":104,"name":"deferred_sample_results_args","type":{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":107,"name":"sampled_token_ids","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":111,"name":"sampled_token_ids_cpu","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":114,"name":"spec_decode_worker_metrics","type":{".class":"UnionType","items":["vllm.spec_decode.metrics.SpecDecodeWorkerMetrics",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":117,"name":"hidden_states","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":121,"name":"prefill_hidden_states","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":124,"name":"model_forward_time","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":128,"name":"model_execute_time","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}}],"frozen":false},"dataclass_tag":{}},"module_name":"vllm.model_executor.layers.sampler","mro":["vllm.model_executor.layers.sampler.SamplerOutput","msgspec.Struct","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__eq__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":[null,null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__eq__","name":"__eq__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":[null,null],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput","builtins.object"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__eq__ of SamplerOutput","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__getitem__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":[null,null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__getitem__","name":"__getitem__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":[null,null],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__getitem__ of SamplerOutput","ret_type":"vllm.sequence.CompletionSequenceGroupOutput","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1,1,1,1,1,1,1,1],"arg_names":["self","outputs","sampled_token_probs","logprobs","deferred_sample_results_args","sampled_token_ids","sampled_token_ids_cpu","spec_decode_worker_metrics","hidden_states","prefill_hidden_states","model_forward_time","model_execute_time"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1,1,1,1,1,1,1,1],"arg_names":["self","outputs","sampled_token_probs","logprobs","deferred_sample_results_args","sampled_token_ids","sampled_token_ids_cpu","spec_decode_worker_metrics","hidden_states","prefill_hidden_states","model_forward_time","model_execute_time"],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput",{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.spec_decode.metrics.SpecDecodeWorkerMetrics",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of SamplerOutput","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__init__-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__init__","kind":"Mdef","plugin_generated":true},"__init__-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__init__","kind":"Mdef","plugin_generated":true},"__init__-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__init__","kind":"Mdef","plugin_generated":true},"__iter__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__iter__","name":"__iter__","type":{".class":"CallableType","arg_kinds":[0],"arg_names":[null],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__iter__ of SamplerOutput","ret_type":{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"typing.Iterator"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__len__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__len__","name":"__len__","type":null}},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"outputs"},{".class":"LiteralType","fallback":"builtins.str","value":"sampled_token_probs"},{".class":"LiteralType","fallback":"builtins.str","value":"logprobs"},{".class":"LiteralType","fallback":"builtins.str","value":"deferred_sample_results_args"},{".class":"LiteralType","fallback":"builtins.str","value":"sampled_token_ids"},{".class":"LiteralType","fallback":"builtins.str","value":"sampled_token_ids_cpu"},{".class":"LiteralType","fallback":"builtins.str","value":"spec_decode_worker_metrics"},{".class":"LiteralType","fallback":"builtins.str","value":"hidden_states"},{".class":"LiteralType","fallback":"builtins.str","value":"prefill_hidden_states"},{".class":"LiteralType","fallback":"builtins.str","value":"model_forward_time"},{".class":"LiteralType","fallback":"builtins.str","value":"model_execute_time"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__match_args__-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__match_args__","kind":"Mdef","plugin_generated":true},"__match_args__-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__match_args__","kind":"Mdef","plugin_generated":true},"__match_args__-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__match_args__","kind":"Mdef","plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5,5,5,5,5,5,5],"arg_names":["outputs","sampled_token_probs","logprobs","deferred_sample_results_args","sampled_token_ids","sampled_token_ids_cpu","spec_decode_worker_metrics","hidden_states","prefill_hidden_states","model_forward_time","model_execute_time"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5],"arg_names":["outputs","sampled_token_probs","logprobs","deferred_sample_results_args","sampled_token_ids","sampled_token_ids_cpu","spec_decode_worker_metrics","hidden_states","prefill_hidden_states","model_forward_time","model_execute_time"],"arg_types":[{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.spec_decode.metrics.SpecDecodeWorkerMetrics",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of SamplerOutput","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5],"arg_names":["outputs","sampled_token_probs","logprobs","deferred_sample_results_args","sampled_token_ids","sampled_token_ids_cpu","spec_decode_worker_metrics","hidden_states","prefill_hidden_states","model_forward_time","model_execute_time"],"arg_types":[{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["vllm.spec_decode.metrics.SpecDecodeWorkerMetrics",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of SamplerOutput","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"__mypy-replace-redefinition":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__mypy-replace","kind":"Mdef","plugin_generated":true},"__mypy-replace-redefinition2":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__mypy-replace","kind":"Mdef","plugin_generated":true},"__mypy-replace-redefinition3":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.sampler.SamplerOutput.__mypy-replace","kind":"Mdef","plugin_generated":true},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__repr__","name":"__repr__","type":{".class":"CallableType","arg_kinds":[0],"arg_names":[null],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__repr__ of SamplerOutput","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__setitem__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":[null,null,null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.__setitem__","name":"__setitem__","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":[null,null,null],"arg_types":["vllm.model_executor.layers.sampler.SamplerOutput","builtins.int",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__setitem__ of SamplerOutput","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"deferred_sample_results_args":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.deferred_sample_results_args","name":"deferred_sample_results_args","type":{".class":"UnionType","items":["vllm.model_executor.layers.sampler.SampleResultArgsType",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"hidden_states":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.hidden_states","name":"hidden_states","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"logprobs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.logprobs","name":"logprobs","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"model_execute_time":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.model_execute_time","name":"model_execute_time","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"model_forward_time":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.model_forward_time","name":"model_forward_time","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"outputs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.outputs","name":"outputs","type":{".class":"Instance","args":["vllm.sequence.CompletionSequenceGroupOutput"],"extra_attrs":null,"type_ref":"builtins.list"}}},"prefill_hidden_states":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.prefill_hidden_states","name":"prefill_hidden_states","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"sampled_token_ids":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.sampled_token_ids","name":"sampled_token_ids","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"sampled_token_ids_cpu":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.sampled_token_ids_cpu","name":"sampled_token_ids_cpu","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"sampled_token_probs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.sampled_token_probs","name":"sampled_token_probs","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"spec_decode_worker_metrics":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.spec_decode_worker_metrics","name":"spec_decode_worker_metrics","type":{".class":"UnionType","items":["vllm.spec_decode.metrics.SpecDecodeWorkerMetrics",{".class":"NoneType"}],"uses_pep604_syntax":false}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"vllm.model_executor.layers.sampler.SamplerOutput.Self","id":0,"name":"Self","namespace":"","upper_bound":"vllm.model_executor.layers.sampler.SamplerOutput","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"SamplingMetadata":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.sampling_metadata.SamplingMetadata","kind":"Gdef"},"SamplingTensors":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.sampling_metadata.SamplingTensors","kind":"Gdef"},"SamplingType":{".class":"SymbolTableNode","cross_ref":"vllm.sampling_params.SamplingType","kind":"Gdef"},"SequenceGroupToSample":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.sampling_metadata.SequenceGroupToSample","kind":"Gdef"},"SequenceOutput":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.SequenceOutput","kind":"Gdef"},"SpecDecodeWorkerMetrics":{".class":"SymbolTableNode","cross_ref":"vllm.spec_decode.metrics.SpecDecodeWorkerMetrics","kind":"Gdef"},"Tuple":{".class":"SymbolTableNode","cross_ref":"typing.Tuple","kind":"Gdef"},"Union":{".class":"SymbolTableNode","cross_ref":"typing.Union","kind":"Gdef"},"VLLM_INVALID_TOKEN_ID":{".class":"SymbolTableNode","cross_ref":"vllm.sequence.VLLM_INVALID_TOKEN_ID","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__package__","name":"__package__","type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"vllm.model_executor.layers.sampler.__spec__","name":"__spec__","type":"_frozen_importlib.ModuleSpec"}},"_apply_min_p":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["logits","min_p"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._apply_min_p","name":"_apply_min_p","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["logits","min_p"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_apply_min_p","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_apply_min_tokens_penalty":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["logits","sampling_metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._apply_min_tokens_penalty","name":"_apply_min_tokens_penalty","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["logits","sampling_metadata"],"arg_types":["torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_apply_min_tokens_penalty","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_apply_top_k_top_p":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["logits","p","k"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._apply_top_k_top_p","name":"_apply_top_k_top_p","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["logits","p","k"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_apply_top_k_top_p","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_build_sampler_output":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,1],"arg_names":["maybe_deferred_sample_results","sampling_metadata","prompt_logprobs","sample_logprobs","on_device_tensors","skip_sampler_cpu_output"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._build_sampler_output","name":"_build_sampler_output","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,1],"arg_names":["maybe_deferred_sample_results","sampling_metadata","prompt_logprobs","sample_logprobs","on_device_tensors","skip_sampler_cpu_output"],"arg_types":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.MaybeDeferredSampleResultType"},"vllm.model_executor.sampling_metadata.SamplingMetadata",{".class":"UnionType","items":[{".class":"Instance","args":[{".class":"UnionType","items":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.sequence.PromptLogprobs"},{".class":"NoneType"}],"uses_pep604_syntax":false}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":[{".class":"Instance","args":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.sequence.SampleLogprobs"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":[{".class":"TupleType","implicit":false,"items":["torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},{".class":"NoneType"}],"uses_pep604_syntax":false},"builtins.bool"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_build_sampler_output","ret_type":"vllm.model_executor.layers.sampler.SamplerOutput","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_next_prompt_tokens":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["seq_group"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._get_next_prompt_tokens","name":"_get_next_prompt_tokens","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["seq_group"],"arg_types":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_get_next_prompt_tokens","ret_type":{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.tuple"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_prompt_logprob_if_needed":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0],"arg_names":["seq_group","selected_logprobs","ranks","top_token_ids","top_logprobs","selected_logprobs_idx","top_logprob_idx"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._get_prompt_logprob_if_needed","name":"_get_prompt_logprob_if_needed","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0],"arg_names":["seq_group","selected_logprobs","ranks","top_token_ids","top_logprobs","selected_logprobs_idx","top_logprob_idx"],"arg_types":["vllm.model_executor.sampling_metadata.SequenceGroupToSample","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_get_prompt_logprob_if_needed","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_ranks":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["x","indices"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._get_ranks","name":"_get_ranks","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["x","indices"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_get_ranks","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_sampled_logprob_if_needed":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0],"arg_names":["seq_group","sample_result","selected_logprobs","ranks","top_token_ids","top_logprobs","selected_logprobs_idx","top_logprob_idx"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._get_sampled_logprob_if_needed","name":"_get_sampled_logprob_if_needed","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0],"arg_names":["seq_group","sample_result","selected_logprobs","ranks","top_token_ids","top_logprobs","selected_logprobs_idx","top_logprob_idx"],"arg_types":["vllm.model_executor.sampling_metadata.SequenceGroupToSample",{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_get_sampled_logprob_if_needed","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_greedy_sample":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["selected_seq_groups","samples"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._greedy_sample","name":"_greedy_sample","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["selected_seq_groups","samples"],"arg_types":[{".class":"Instance","args":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_greedy_sample","ret_type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_modify_greedy_probs_inplace":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0],"arg_names":["logprobs","probs","sample_indices","greedy_samples"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._modify_greedy_probs_inplace","name":"_modify_greedy_probs_inplace","type":{".class":"CallableType","arg_kinds":[0,0,0,0],"arg_names":["logprobs","probs","sample_indices","greedy_samples"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_modify_greedy_probs_inplace","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_multinomial":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1],"arg_names":["probs","num_samples","seq_groups"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._multinomial","name":"_multinomial","type":{".class":"CallableType","arg_kinds":[0,0,1],"arg_names":["probs","num_samples","seq_groups"],"arg_types":["torch._tensor.Tensor","builtins.int",{".class":"UnionType","items":[{".class":"Instance","args":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_multinomial","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_random_sample":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["selected_seq_groups","random_samples"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._random_sample","name":"_random_sample","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["selected_seq_groups","random_samples"],"arg_types":[{".class":"Instance","args":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_random_sample","ret_type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_sample":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0],"arg_names":["probs","logprobs","sampling_metadata","sampling_tensors","include_gpu_probs_tensor","modify_greedy_probs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._sample","name":"_sample","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0],"arg_names":["probs","logprobs","sampling_metadata","sampling_tensors","include_gpu_probs_tensor","modify_greedy_probs"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata","vllm.model_executor.sampling_metadata.SamplingTensors","builtins.bool","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_sample","ret_type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleReturnType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_sample_with_torch":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0],"arg_names":["probs","logprobs","sampling_metadata","sampling_tensors","include_gpu_probs_tensor","modify_greedy_probs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._sample_with_torch","name":"_sample_with_torch","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0],"arg_names":["probs","logprobs","sampling_metadata","sampling_tensors","include_gpu_probs_tensor","modify_greedy_probs"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata","vllm.model_executor.sampling_metadata.SamplingTensors","builtins.bool","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_sample_with_torch","ret_type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleReturnType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_top_k_top_p_multinomial_with_flashinfer":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0],"arg_names":["probs","top_ks","top_ps","num_samples","seq_groups"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler._top_k_top_p_multinomial_with_flashinfer","name":"_top_k_top_p_multinomial_with_flashinfer","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0],"arg_names":["probs","top_ks","top_ps","num_samples","seq_groups"],"arg_types":["torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int",{".class":"UnionType","items":[{".class":"Instance","args":["vllm.model_executor.sampling_metadata.SequenceGroupToSample"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_top_k_top_p_multinomial_with_flashinfer","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"apply_penalties":{".class":"SymbolTableNode","cross_ref":"vllm.model_executor.layers.utils.apply_penalties","kind":"Gdef"},"dataclass":{".class":"SymbolTableNode","cross_ref":"dataclasses.dataclass","kind":"Gdef"},"envs":{".class":"SymbolTableNode","cross_ref":"vllm.envs","kind":"Gdef"},"find_spec":{".class":"SymbolTableNode","cross_ref":"importlib.util.find_spec","kind":"Gdef"},"flashinfer":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"vllm.model_executor.layers.sampler.flashinfer","name":"flashinfer","type":{".class":"AnyType","missing_import_name":"vllm.model_executor.layers.sampler.flashinfer","source_any":null,"type_of_any":3}}},"flashinfer_top_k_top_p_sampling":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"vllm.model_executor.layers.sampler.flashinfer_top_k_top_p_sampling","name":"flashinfer_top_k_top_p_sampling","type":{".class":"AnyType","missing_import_name":"vllm.model_executor.layers.sampler.flashinfer_top_k_top_p_sampling","source_any":null,"type_of_any":3}}},"get_logprobs":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["logprobs","sampling_metadata","sample_results"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.get_logprobs","name":"get_logprobs","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["logprobs","sampling_metadata","sample_results"],"arg_types":["torch._tensor.Tensor","vllm.model_executor.sampling_metadata.SamplingMetadata",{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultType"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_logprobs","ret_type":{".class":"TupleType","implicit":false,"items":[{".class":"Instance","args":[{".class":"UnionType","items":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.sequence.PromptLogprobs"},{".class":"NoneType"}],"uses_pep604_syntax":false}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":[{".class":"TypeAliasType","args":[],"type_ref":"vllm.sequence.SampleLogprobs"}],"extra_attrs":null,"type_ref":"builtins.list"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"get_pythonized_sample_results":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["sample_result_args"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.get_pythonized_sample_results","name":"get_pythonized_sample_results","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["sample_result_args"],"arg_types":["vllm.model_executor.layers.sampler.SampleResultArgsType"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_pythonized_sample_results","ret_type":{".class":"TypeAliasType","args":[],"type_ref":"vllm.model_executor.layers.sampler.SampleResultType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"get_sampler":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[],"arg_names":[],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"vllm.model_executor.layers.sampler.get_sampler","name":"get_sampler","type":{".class":"CallableType","arg_kinds":[],"arg_names":[],"arg_types":[],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_sampler","ret_type":"torch.nn.modules.module.Module","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"inf":{".class":"SymbolTableNode","cross_ref":"math.inf","kind":"Gdef"},"itertools":{".class":"SymbolTableNode","cross_ref":"itertools","kind":"Gdef"},"msgspec":{".class":"SymbolTableNode","cross_ref":"msgspec","kind":"Gdef"},"nn":{".class":"SymbolTableNode","cross_ref":"torch.nn","kind":"Gdef"},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef"},"warnings":{".class":"SymbolTableNode","cross_ref":"warnings","kind":"Gdef"}},"path":"c:\\Users\\shivam\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\vllm\\model_executor\\layers\\sampler.py"}